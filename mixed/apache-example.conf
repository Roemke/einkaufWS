<IfModule mod_ssl.c>
<VirtualHost *:443>
# WebSocket Proxy
ProxyPreserveHost On
RewriteEngine On

RewriteCond %{HTTP:Upgrade} =websocket [NC]
RewriteRule ^/ws/?(.*) ws://127.0.0.1:8080/$1 [P,L]

ProxyPassReverse /ws/ ws://127.0.0.1:8080/

# ...

</VirtualHost>
</IfModule>
